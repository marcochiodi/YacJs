!function(){"use strict";function e(e){var t=e.columns.length,a=(parseInt(Math.floor(100/t)),r(e.columns));a=c(a),C.appendChild(s(a)),e.columns.forEach(function(l,n){var i=E/t*n+5,s=o(L.r,{x:i+2,y:M-M/a*l.value,fill:l.fill,width:E/t-4,height:M/a*l.value,label:l.label,value:l.value,class:"yac-tt "+l.class}),r=o(L.t,{x:i+E/2/t,y:M,width:E/t-1,height:"auto","text-anchor":"middle","alignment-baseline":"text-before-edge",label:l.label,value:"",class:"baselabel"},l.label);if(e.numbers){var c=o(L.t,{x:i+E/2/t,y:98*M/100-M/a*l.value,width:E/t-1,"text-anchor":"middle","alignment-baseline":"baseline"},l.value);C.appendChild(c)}s.addEventListener("click",e.click),f(s),f(r),C.appendChild(s),C.appendChild(r)})}function t(e){var t=M;M>E&&(t=E),t/=1.5;var a=E/2,l=M/2,n=(e.columns.length+2,t*Math.PI,d(e.columns)),i=0;e.columns.forEach(function(s,r){var c=2*Math.PI/n*s.value,d=u(a,l,t/2,i,i+c),p=o("path",{d:d,fill:s.fill,stroke:s.stroke,"stroke-width":2,label:s.label,value:s.value,class:"yac-tt "+s.class});p.addEventListener("click",e.click),f(p);if(C.appendChild(p),e.numbers){var v=h(a,l,t/2+20,i,i+c),b=o(L.t,{x:v.x,y:v.y,fill:"black","text-anchor":"middle","alignment-baseline":"middle"},s.value);C.appendChild(b)}i+=c})}function a(e){var t=M;M>E&&(t=E),t/=1.2;var a=E/2,l=M/2,n=(e.columns.length+2,t/1.5*Math.PI),i=d(e.columns),s=0,r=o(L.t,{x:a,y:l,"text-anchor":"middle","alignment-baseline":"middle",fill:"black"},"");e.columns.forEach(function(c,d){var u=c.value*n/i,h=o(L.c,{r:t/3,cx:a,cy:l,"stroke-width":t/6,"stroke-dasharray":u+"  "+n,"stroke-dashoffset":-s,stroke:c.fill,label:c.label,value:c.value,class:"yac-tt "+c.class,fill:"none"});h.addEventListener("click",e.click),h.addEventListener("mouseover",function(){this.setAttribute("stroke-width",t/5),r.innerHTML=this.getAttribute("label")+": "+this.getAttribute("value")}),h.addEventListener("mouseout",function(){this.setAttribute("stroke-width",t/6),r.innerHTML=""}),C.appendChild(h),s+=u}),C.appendChild(r)}function l(e){var t=e.labels.length-1,a=0;e.columns.forEach(function(e,t){var l=Math.max.apply(Math,e.values);l>a&&(a=l)}),a=c(a);C.appendChild(s(a)),e.columns.forEach(function(l,n){var i="0",s=M,r="",c="",d=(e.areafill?l.color:"none",[]);if(l.values.forEach(function(c,u){if(i=E/t*u,s=M-M/a*c,e.vline&&0!=u){var h=o(L.l,{x1:i,x2:i,y1:0,y2:"100%",stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"});C.appendChild(h)}if(e.points){var p=o(L.c,{cx:i,cy:s,stroke:"white","stroke-width":1,fill:l.color,r:"5",label:e.labels[u],value:c,class:"yac-tt "+l.class});d.push(p)}if(e.numbers){var v=o(L.t,{x:i,y:98*M/100-M/a*c,width:E/t,"text-anchor":"middle","alignment-baseline":"baseline"},c);C.appendChild(v)}if(0==n){var b=o(L.t,{x:i,y:M,width:E/t,"text-anchor":"middle","alignment-baseline":"text-before-edge",class:"baselabel",label:e.labels[u],value:""},e.labels[u]);C.appendChild(b),f(b)}r+=i+","+s+" "}),e.areafill){c="0,"+M+" "+r+" "+i+","+M;var u=o(L.p,{"stroke-width":0,fill:l.fill,points:c,class:l.class});C.appendChild(u)}var h=o(L.p,{stroke:l.color,"stroke-width":3,fill:"none",points:r,class:l.class});C.appendChild(h),d.forEach(function(t,a){C.appendChild(t),t.addEventListener("click",e.click),f(t)}),e.vline=!1})}function n(){return o("svg",{x:0,y:0,width:"100%",height:"100%"})}function i(){return o("svg",{x:"10%",y:"10%",width:"80%",height:"80%",style:"overflow:visible;",viewBox:"0 0 "+E+" "+M})}function o(e,t,a,l){var n;n=l?document.createElement(e):document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)n.setAttribute(i,t[i]);return null!=a&&(n.innerHTML=a),n}function s(e){var t=o("g"),a=o(L.l,{x1:"0%",x2:"0%",y1:"0%",y2:"100%",stroke:"#888888","stroke-width":1}),l=o(L.l,{x1:"0%",x2:"105%",y1:"100%",y2:"100%",stroke:"#888888","stroke-width":1});t.appendChild(a),t.appendChild(l);for(var n=0;n<10;n++){var i=10*n+"%",s=o(L.l,{x1:"0%",x2:"105%",y1:i,y2:i,stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"}),r=o(L.t,{x:"0%",y:i,"alignment-baseline":"middle","text-anchor":"end"},parseInt((10-n)*(e/100)*10)+"&nbsp;");t.appendChild(s),t.appendChild(r)}return t}function r(e){var t=0;return e.forEach(function(e,a){e.value>t&&(t=e.value)}),t}function c(e){return e=e<10?e.ceilTo(1):e<100?e.ceilTo(10):e<1e3?e.ceilTo(100):e.ceilTo(100)}function d(e){var t=0;return e.forEach(function(e,a){t+=e.value}),t}function u(e,t,a,l,n){if(l>n){var i=l;l=n,n=i}n-l>2*Math.PI&&(n=1.99999*Math.PI);var o=n-l<=Math.PI?0:1,s=l+(n-l)/2;e+10+Math.cos(s)*a,t+10-Math.sin(s)*a;return["M",e,t,"L",e+Math.cos(l)*a,t-Math.sin(l)*a,"A",a,a,0,o,0,e+Math.cos(n)*a,t-Math.sin(n)*a,"L",e,t].join(" ")}function h(e,t,a,l,n){var i=l+(n-l)/2,o=e+Math.cos(i)*a,s=t-Math.sin(i)*a;return{x:o,y:s}}function p(){if(0==document.getElementsByClassName("yac-tooltip").length){var e=o("div",{style:'display:none;opacity:0.8;position:absolute;min-width:50px;padding:5px;border-radius:2px;background-color:black;min-height:30px;top:0;left:0;color:white;text-align:center;z-index:999;},null,true);tt.classList.add("yac-tooltip");document.body.appendChild(tt);'},null,!0);e.classList.add("yac-tooltip"),document.body.appendChild(e)}}function f(e){e.addEventListener("mouseover",function(e){b(e,this)}),e.addEventListener("mouseout",function(e){y(e,this)}),e.addEventListener("touchstart",function(e){v(e,this)}),e.addEventListener("touchend",function(e){y(e,this)})}function v(e,t){var a=e.touches[0].pageX,l=e.touches[0].pageY,n=document.getElementsByClassName("yac-tooltip");n[0].style.display="block",n[0].style.left=a+"px",n[0].style.top=l-50+"px",n[0].innerHTML=t.getAttribute("label")+"<br>"+t.getAttribute("value")}function b(e,t){var a=e.pageX,l=e.pageY,n=document.getElementsByClassName("yac-tooltip");n[0].style.display="block",n[0].style.left=a+"px",n[0].style.top=l+"px",n[0].innerHTML=t.getAttribute("label")+"<br>"+t.getAttribute("value")}function y(e,t){var a=document.getElementsByClassName("yac-tooltip");a[0].style.display="none"}function m(e){for(var t=!1,a=0;a<e.length;a++)e[a].getBBox().width>e[a].attributes.width.value&&(t=!0);if(t)for(var a=0;a<e.length;a++){var l=e[a].attributes.x.value,n=e[a].attributes.y.value;e[a].setAttribute("transform","rotate(45 "+l+" "+n+")"),e[a].setAttribute("text-anchor","left")}}var g,x,k,w,C,E=600,M=400,L={r:"rect",c:"circle",l:"line",t:"text",p:"polyline"};Number.prototype.ceilTo=function(e){return e=e||10,Math.ceil(this*(1/e))*e},window.yac=function(o,s,r){switch(p(),x=document.getElementById(s),E=x.offsetWidth>0?x.offsetWidth:E,M=x.offsetHeight>0?x.offsetHeight:M,r.viewportx&&(E=r.viewportx),r.viewporty&&(M=r.viewporty),g=o,k=r,C=i(),w=n(),g){case"bar":e(k);break;case L.l:l(k);break;case"pie":t(k);break;case"doughnut":a(k)}w.appendChild(C),x.appendChild(w);var c=x.getElementsByClassName("baselabel");c.length>0&&m(c)}}();
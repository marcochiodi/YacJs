!function(){"use strict";function e(e){var t=e.columns.length,n=(parseInt(Math.floor(100/t)),s(e.columns));n=c(n),b.appendChild(o(n)),e.columns.forEach(function(a,l){var i=x/t*l+5,o=r(y.r,{x:i+2,y:k-k/n*a.value,"stroke-width":"2",fill:a.fill,width:x/t-4,height:k/n*a.value,label:a.label,value:a.value,class:"yac-slice "+a.class}),s=r(y.t,{x:i+x/2/t,y:k,width:x/t-1,height:"auto","text-anchor":"middle","alignment-baseline":"text-before-edge"},a.label);if(e.numbers){var c=r(y.t,{x:i+x/2/t,y:98*k/100-k/n*a.value,width:x/t-1,"text-anchor":"middle","alignment-baseline":"baseline"},a.value);b.appendChild(c)}o.addEventListener("click",e.click),o.addEventListener("mouseover",e.mouseover),b.appendChild(o),b.appendChild(s)})}function t(e){var t=k;k>x&&(t=x),t/=1.5;var n=x/2,a=k/2,l=(e.columns.length+2,t*Math.PI,d(e.columns)),i=0;e.columns.forEach(function(o,s){var c=2*Math.PI/l*o.value,d=h(n,a,t/2,i,i+c),v=r("path",{d:d,fill:o.fill,stroke:o.stroke,"stroke-width":2,label:o.label,value:o.value,class:o.class});v.addEventListener("click",e.click),v.addEventListener("mouseover",e.mouseover);if(b.appendChild(v),e.numbers){var f=u(n,a,t/2+20,i,i+c),p=r(y.t,{x:f.x,y:f.y,fill:"black","text-anchor":"middle","alignment-baseline":"middle"},o.value);b.appendChild(p)}i+=c})}function n(e){var t=k;k>x&&(t=x),t/=1.2;var n=x/2,a=k/2,l=(e.columns.length+2,t/1.5*Math.PI),i=d(e.columns),o=0,s=r(y.t,{x:n,y:a,"text-anchor":"middle","alignment-baseline":"middle",fill:"black"},"");e.columns.forEach(function(c,d){var h=c.value*l/i,u=r(y.c,{r:t/3,cx:n,cy:a,"stroke-width":t/6,"stroke-dasharray":h+"  "+l,"stroke-dashoffset":-o,stroke:c.fill,label:c.label,value:c.value,class:c.class,fill:"none"});u.addEventListener("click",e.click),u.addEventListener("mouseover",function(){this.setAttribute("stroke-width",t/5),s.innerHTML=this.getAttribute("label")+": "+this.getAttribute("value")}),u.addEventListener("mouseout",function(){this.setAttribute("stroke-width",t/6),s.innerHTML=""}),b.appendChild(u),o+=h}),b.appendChild(s)}function a(e){var t=e.labels.length-1,n=0;e.columns.forEach(function(e,t){var a=Math.max.apply(Math,e.values);a>n&&(n=a)}),n=c(n);b.appendChild(o(n)),e.columns.forEach(function(a,l){var i="0",o=k,s=i+","+o+" ",c=e.fill?a.color:"none";a.values.forEach(function(c,d){if(i=x/t*d,o=k-k/n*c,e.points){var h=r(y.c,{cx:i,cy:o,stroke:"white","stroke-width":2,fill:a.color,r:"5",value:c});b.appendChild(h)}if(e.numbers){var u=r(y.t,{x:i,y:98*k/100-k/n*c,width:x/t,"text-anchor":"middle","alignment-baseline":"baseline"},c);b.appendChild(u)}if(0==l){var v=r(y.t,{x:i,y:k,"text-anchor":"middle","alignment-baseline":"text-before-edge"},e.labels[d]);b.appendChild(v)}s+=i+","+o+" "}),s+=i+","+k;var d=r(y.p,{stroke:a.color,"stroke-width":3,fill:c,points:s,class:a.class});b.appendChild(d)})}function l(){return r("svg",{x:0,y:0,width:"100%",height:"100%"})}function i(){return r("svg",{x:"5%",y:"5%",width:"90%",height:"90%",style:"overflow:visible;",viewBox:"0 0 "+x+" "+k})}function r(e,t,n){var a=document.createElementNS("http://www.w3.org/2000/svg",e);for(var l in t)a.setAttribute(l,t[l]);return null!=n&&(a.innerHTML=n),a}function o(e){var t=r("g"),n=r(y.l,{x1:"0%",x2:"0%",y1:"0%",y2:"100%",stroke:"#888888","stroke-width":1}),a=r(y.l,{x1:"0%",x2:"105%",y1:"100%",y2:"100%",stroke:"#888888","stroke-width":1});t.appendChild(n),t.appendChild(a);for(var l=0;l<10;l++){var i=10*l+"%",o=r(y.l,{x1:"0%",x2:"105%",y1:i,y2:i,stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"}),s=r(y.t,{x:"0%",y:i,"alignment-baseline":"middle","text-anchor":"end"},parseInt((10-l)*(e/100)*10)+"&nbsp;");t.appendChild(o),t.appendChild(s)}return t}function s(e){var t=0;return e.forEach(function(e,n){e.value>t&&(t=e.value)}),t}function c(e){return e=e<10?e.ceilTo(1):e<100?e.ceilTo(10):e<1e3?e.ceilTo(100):e.ceilTo(100)}function d(e){var t=0;return e.forEach(function(e,n){t+=e.value}),t}function h(e,t,n,a,l){if(a>l){var i=a;a=l,l=i}l-a>2*Math.PI&&(l=1.99999*Math.PI);var r=l-a<=Math.PI?0:1,o=a+(l-a)/2;e+10+Math.cos(o)*n,t+10-Math.sin(o)*n;return["M",e,t,"L",e+Math.cos(a)*n,t-Math.sin(a)*n,"A",n,n,0,r,0,e+Math.cos(l)*n,t-Math.sin(l)*n,"L",e,t].join(" ")}function u(e,t,n,a,l){var i=a+(l-a)/2,r=e+Math.cos(i)*n,o=t-Math.sin(i)*n;return{x:r,y:o}}var v,f,p,m,b,x=600,k=400,y={r:"rect",c:"circle",l:"line",t:"text",p:"polyline"};Number.prototype.ceilTo=function(e){return e=e||10,Math.ceil(this*(1/e))*e},window.yac=function(r,o,s){switch(s.viewportx&&(x=s.viewportx),s.viewporty&&(k=s.viewporty),v=r,f=o,p=s,b=i(),m=l(),v){case"bar":f=e(p);break;case y.l:f=a(p);break;case"pie":f=t(p);break;case"doughnut":f=n(p)}m.appendChild(b),document.getElementById(o).appendChild(m)}}();
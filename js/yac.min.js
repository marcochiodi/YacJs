!function(){"use strict";function e(e){var t=e.columns.length,n=(parseInt(Math.floor(100/t)),s(e.columns));n=c(n),m.appendChild(o(n)),e.columns.forEach(function(l,a){var i=x/t*a+5,o=r(y.r,{x:i+2,y:k-k/n*l.value,"stroke-width":"2",fill:l.fill,width:x/t-4,height:k/n*l.value,label:l.label,value:l.value,class:"yac-slice "+l.class}),s=r(y.t,{x:i+x/2/t,y:k,width:x/t-1,height:"auto","text-anchor":"middle","alignment-baseline":"text-before-edge"},l.label);if(e.numbers){var c=r(y.t,{x:i+x/2/t,y:98*k/100-k/n*l.value,width:x/t-1,"text-anchor":"middle","alignment-baseline":"baseline"},l.value);m.appendChild(c)}o.addEventListener("click",e.click),o.addEventListener("mouseover",e.mouseover),m.appendChild(o),m.appendChild(s)})}function t(e){var t=k;k>x&&(t=x),t/=1.5;var n=x/2,l=k/2,a=(e.columns.length+2,t*Math.PI,d(e.columns)),i=0;e.columns.forEach(function(o,s){var c=2*Math.PI/a*o.value,d=h(n,l,t/2,i,i+c),v=r("path",{d:d,fill:o.fill,stroke:o.stroke,"stroke-width":2,label:o.label,value:o.value,class:o.class});v.addEventListener("click",e.click),v.addEventListener("mouseover",e.mouseover);if(m.appendChild(v),e.numbers){var f=u(n,l,t/2,i,i+c),p=u(n,l,t/2+50,i,i+c),b=r(y.l,{x1:f.x,y1:f.y,x2:p.x,y2:p.y,stroke:"black"}),x=r(y.t,{x:p.x,y:p.y,fill:"black"},o.value);m.appendChild(x);var k=x.getBBox(),g=r(y.r,{x:k.x-5,y:k.y-3,width:k.width+10,height:k.height+6,fill:"#eeeeee",stroke:"black"});m.appendChild(b),m.appendChild(g),m.appendChild(x)}i+=c})}function n(e){var t=k;k>x&&(t=x);var n=x/2,l=k/2,a=(e.columns.length+2,t/1.5*Math.PI),i=d(e.columns),o=0,s=r(y.t,{x:n,y:l,"text-anchor":"middle","alignment-baseline":"middle",fill:"black"},"");e.columns.forEach(function(c,d){var h=c.value*a/i,u=r(y.c,{r:t/3,cx:n,cy:l,"stroke-width":t/6,"stroke-dasharray":h+"  "+a,"stroke-dashoffset":-o,stroke:c.fill,label:c.label,value:c.value,class:c.class,fill:"none"});u.addEventListener("click",e.click),u.addEventListener("mouseover",function(){this.setAttribute("stroke-width",t/5),s.innerHTML=this.getAttribute("label")+": "+this.getAttribute("value")}),u.addEventListener("mouseout",function(){this.setAttribute("stroke-width",t/6),s.innerHTML=""}),m.appendChild(u),o+=h}),m.appendChild(s)}function l(e){var t=e.labels.length-1,n=0;e.columns.forEach(function(e,t){var l=Math.max.apply(Math,e.values);l>n&&(n=l)}),n=c(n);m.appendChild(o(n)),e.columns.forEach(function(l,a){var i="0",o=k,s=i+","+o+" ",c=e.fill?l.color:"none";l.values.forEach(function(c,d){if(i=x/t*d,o=k-k/n*c,e.points){var h=r(y.c,{cx:i,cy:o,stroke:"white","stroke-width":2,fill:l.color,r:"5",value:c});m.appendChild(h)}if(e.numbers){var u=r(y.t,{x:i,y:98*k/100-k/n*c,width:x/t,"text-anchor":"middle","alignment-baseline":"baseline"},c);m.appendChild(u)}if(0==a){var v=r(y.t,{x:i,y:k,"text-anchor":"middle","alignment-baseline":"text-before-edge"},e.labels[d]);m.appendChild(v)}s+=i+","+o+" "}),s+=i+","+k;var d=r(y.p,{stroke:l.color,"stroke-width":3,fill:c,points:s,class:l.class});m.appendChild(d)})}function a(){return r("svg",{x:0,y:0,width:"100%",height:"100%"})}function i(){return r("svg",{x:"5%",y:"5%",width:"90%",height:"90%",fill:"#22222",style:"overflow:visible;",viewBox:"0 0 "+x+" "+k})}function r(e,t,n){var l=document.createElementNS("http://www.w3.org/2000/svg",e);for(var a in t)l.setAttribute(a,t[a]);return null!=n&&(l.innerHTML=n),l}function o(e){var t=r("g"),n=r(y.l,{x1:"0%",x2:"0%",y1:"0%",y2:"100%",stroke:"#888888","stroke-width":1}),l=r(y.l,{x1:"0%",x2:"105%",y1:"100%",y2:"100%",stroke:"#888888","stroke-width":1});t.appendChild(n),t.appendChild(l);for(var a=0;a<10;a++){var i=10*a+"%",o=r(y.l,{x1:"0%",x2:"105%",y1:i,y2:i,stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"}),s=r(y.t,{x:"0%",y:i,"alignment-baseline":"middle","text-anchor":"end"},parseInt((10-a)*(e/100)*10)+"&nbsp;");t.appendChild(o),t.appendChild(s)}return t}function s(e){var t=0;return e.forEach(function(e,n){e.value>t&&(t=e.value)}),t}function c(e){return e=e<10?e.ceilTo(1):e<100?e.ceilTo(10):e<1e3?e.ceilTo(100):e.ceilTo(100)}function d(e){var t=0;return e.forEach(function(e,n){t+=e.value}),t}function h(e,t,n,l,a){if(l>a){var i=l;l=a,a=i}a-l>2*Math.PI&&(a=1.99999*Math.PI);var r=a-l<=Math.PI?0:1,o=l+(a-l)/2;e+10+Math.cos(o)*n,t+10-Math.sin(o)*n;return["M",e,t,"L",e+Math.cos(l)*n,t-Math.sin(l)*n,"A",n,n,0,r,0,e+Math.cos(a)*n,t-Math.sin(a)*n,"L",e,t].join(" ")}function u(e,t,n,l,a){var i=l+(a-l)/2,r=e+Math.cos(i)*n,o=t-Math.sin(i)*n;return{x:r,y:o}}var v,f,p,b,m,x=600,k=400,y={r:"rect",c:"circle",l:"line",t:"text",p:"polyline"};Number.prototype.ceilTo=function(e){return e=e||10,Math.ceil(this*(1/e))*e},window.yac=function(r,o,s){switch(v=r,f=o,p=s,m=i(),b=a(),v){case"bar":f=e(p);break;case y.l:f=l(p);break;case"pie":f=t(p);break;case"doughnut":f=n(p)}b.appendChild(m),document.getElementById(o).appendChild(b)}}();
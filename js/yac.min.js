!function(e){function t(t,a,n){var l=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in a)l.setAttribute(i,a[i]);return null!=n&&e(l).html(n),l}function a(t){var a=0;return e(t).each(function(){this.value>a&&(a=this.value)}),a}function n(t){var a=0;return e(t).each(function(){a+=this.value}),a}function l(e,t,a,n,l){if(n>l){var i=n;n=l,l=i}l-n>2*Math.PI&&(l=1.99999*Math.PI);var s=l-n<=Math.PI?0:1,r=n+(l-n)/2;return xa=e+10+Math.cos(r)*a,ya=t+10-Math.sin(r)*a,["M",e,t,"L",e+Math.cos(n)*a,t-Math.sin(n)*a,"A",a,a,0,s,0,e+Math.cos(l)*a,t-Math.sin(l)*a,"L",e,t].join(" ")}function i(e,t,a,n,l){var i=n+(l-n)/2,s=e+Math.cos(i)*a,r=t-Math.sin(i)*a;return{x:s,y:r}}e.fn.yacBarChart=function(n){"use strict";var l=this,i=t("svg",{x:0,y:0,width:"100%",height:"100%",viewBox:"0 0 800 600"}),s=t("svg",{x:"5%",y:"5%",width:"90%",height:"90%",fill:"#22222",style:"overflow:visible;"});i=e(i),s=e(s);var r=n.columns.length+1,o=(parseInt(100/r),a(n.columns)),h=100/o,c=t("line",{x1:"0%",x2:"0%",y1:"0%",y2:"100%",stroke:"#888888","stroke-width":1}),u=t("line",{x1:"0%",x2:"100%",y1:"100%",y2:"100%",stroke:"#888888","stroke-width":1});s.append(c),s.append(u);for(var v=0;v<11;v++){var d=10*v+"%",p=t("line",{x1:"0%",x2:"100%",y1:d,y2:d,stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"}),x=t("text",{x:"0%",y:d,"alignment-baseline":"baseline","text-anchor":"end"},parseInt((10-v)*(o/100)*10)+"&nbsp;");s.append(p),s.append(x)}return e(n.columns).each(function(a,l){var i=100/r*a+5,o=t("rect",{x:i+2+"%",y:100-h*l.value+"%",stroke:l.stroke,"stroke-width":"2",fill:l.fill,width:100/r-4+"%",height:h*l.value+"%",label:l.label,value:l.value,class:l.class}),c=t("text",{x:i+50/r+"%",y:"100%",width:100/r-1+"%","text-anchor":"middle","alignment-baseline":"text-before-edge"},l.label),u=t("text",{x:i+50/r+"%",y:99-h*l.value+"%",width:100/r-1+"%","text-anchor":"middle","alignment-baseline":"baseline"},l.value);e(o).on("click",n.click),e(o).on("mouseover",n.mouseover),s.append(o),s.append(c),s.append(u)}),i.append(s),l.append(i),this},e.fn.yacLineChart=function(n){"use strict";var l=this,i=t("svg",{x:"5%",y:"5%",width:"90%",height:"90%",fill:"#22222",style:"overflow:visible;"}),s=t("svg",{x:0,y:0,width:"100%",height:"100%",viewBox:"0 0 800 600"});s=e(s),i=e(i);var r=n.columns.length+1,o=(parseInt(100/(r-1)),a(n.columns)),h=100/o,c=t("line",{x1:"0%",x2:"0%",y1:"0%",y2:"100%",stroke:"#888888","stroke-width":1}),u=t("line",{x1:"0%",x2:"100%",y1:"100%",y2:"100%",stroke:"#888888","stroke-width":1});i.append(c),i.append(u);for(var v=0;v<11;v++){var d=10*v+"%",p=t("line",{x1:"0%",x2:"100%",y1:d,y2:d,stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"}),x=t("text",{x:"0%",y:d,"alignment-baseline":"baseline","text-anchor":"end"},parseInt((10-v)*(o/100)*10)+"&nbsp;");i.append(p),i.append(x)}var y="0%",f="100%";return e(n.columns).each(function(a,l){var s=100/r*a,o=t("circle",{cx:s+"%",cy:100-h*l.value+"%",stroke:l.stroke,"stroke-width":1,fill:l.fill,r:"1%",label:l.label,value:l.value,class:l.class}),c=t("line",{x1:s+"%",x2:y,y1:100-h*l.value+"%",y2:f,stroke:"grey","stroke-width":2}),u=t("text",{x:s+50/r+"%",y:"100%",width:100/r-1+"%","text-anchor":"middle","alignment-baseline":"text-before-edge"},l.label),v=t("text",{x:s+50/r+"%",y:100-h*l.value+"%",width:100/r-1+"%","text-anchor":"middle","alignment-baseline":"baseline"},l.value);e(o).on("click",n.click),e(o).on("mouseover",n.mouseover),i.append(u),i.append(v),i.append(c),i.append(o),y=s+"%",f=100-h*l.value+"%"}),s.append(i),l.append(s),this},e.fn.yacPieChart=function(a){"use strict";var s=this,r=t("svg",{x:0,y:0,width:"100%",height:"100%",fill:"yellow",viewBox:"0 0 600 600"});r=e(r),s.append(r);var o=(a.columns.length+2,300*Math.PI,n(a.columns)),h=0;return e(a.columns).each(function(n,s){var c=2*Math.PI/o*this.value,u=l(300,300,150,h,h+c),v=t("path",{d:u,fill:this.fill,stroke:this.stroke,"stroke-width":2,label:s.label,value:s.value,class:s.class});e(v).on("click",a.click),e(v).on("mouseover",a.mouseover);var d=i(300,300,150,h,h+c),p=i(300,300,200,h,h+c),x=t("line",{x1:d.x,y1:d.y,x2:p.x,y2:p.y,stroke:"black"}),y=t("text",{x:p.x,y:p.y,fill:"black"},this.value);r.append(x),r.append(v),r.append(y);var f=y.getBBox(),k=t("rect",{x:f.x-5,y:f.y-3,width:f.width+10,height:f.height+6,fill:"#eeeeee",stroke:"black"});r.append(k),r.append(y),h+=c}),this},e.fn.yacDoughnutChart=function(a){"use strict";var l=this,i=t("svg",{x:0,y:0,width:"100%",height:"100%",fill:"none",viewBox:"0 0 300 300"});i=e(i),l.append(i);var s=(a.columns.length+2,200*Math.PI),r=n(a.columns),o=0;return e(a.columns).each(function(n,l){var h=this.value*s/r,c=t("circle",{r:"100",cx:"50%",cy:"50%","stroke-width":"35","stroke-dasharray":h+"  "+s,"stroke-dashoffset":-o,stroke:this.fill,label:this.label,value:this.value,class:this.class});e(c).on("click",a.click),e(c).on("mouseover",a.mouseover),i.append(c),o+=h}),this}}(jQuery);
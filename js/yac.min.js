!function(){"use strict";function e(e){var t=e.columns.length,l=(parseInt(Math.floor(100/t)),c(e.columns));l=d(l),E.appendChild(r(l,e.labels,!0)),e.columns.forEach(function(a,n){var i=M/t*n+5,s=o(B.r,{x:i+2,y:L-L/l*a.value,fill:a.fill,width:M/t-4,height:L/l*a.value,label:e.labels[n],value:a.value,class:"yac-tt "+a.class});if(e.numbers){o(B.t,{x:i+M/2/t,y:98*L/100-L/l*a.value,width:M/t-1,"text-anchor":"middle","alignment-baseline":"baseline"},a.value);E.appendChild(e.labels[n])}s.addEventListener("click",e.click),v(s),E.appendChild(s)})}function t(e){var t=L;L>M&&(t=M),t/=1.5;var l=M/2,a=L/2,n=(e.columns.length+2,t*Math.PI,h(e.columns)),i=0;e.columns.forEach(function(s,r){var c=2*Math.PI/n*s.value,d=u(l,a,t/2,i,i+c),h=o("path",{d:d,fill:s.fill,stroke:s.stroke,"stroke-width":2,label:e.labels[r],value:s.value,class:"yac-tt "+s.class});h.addEventListener("click",e.click),v(h);if(E.appendChild(h),e.numbers){var f=p(l,a,t/2+20,i,i+c),b=o(B.t,{x:f.x,y:f.y,fill:"black","text-anchor":"middle","alignment-baseline":"middle"},s.value);E.appendChild(b)}i+=c})}function l(e){var t=L;L>M&&(t=M),t/=1.2;var l=M/2,a=L/2,n=(e.columns.length+2,t/1.5*Math.PI),i=h(e.columns),s=0,r=o(B.t,{x:l,y:a,"text-anchor":"middle","alignment-baseline":"middle",fill:"black"},"");e.columns.forEach(function(c,d){var h=c.value*n/i,u=o(B.c,{r:t/3,cx:l,cy:a,"stroke-width":t/6,"stroke-dasharray":h+"  "+n,"stroke-dashoffset":-s,stroke:c.fill,label:e.labels[d],value:c.value,class:"yac-tt "+c.class,fill:"none"});u.addEventListener("click",e.click),u.addEventListener("mouseover",function(){this.setAttribute("stroke-width",t/5),r.innerHTML=this.getAttribute("label")+": "+this.getAttribute("value")}),u.addEventListener("mouseout",function(){this.setAttribute("stroke-width",t/6),r.innerHTML=""}),E.appendChild(u),s+=h}),E.appendChild(r)}function a(e){var t=e.labels.length-1,l=0;e.columns.forEach(function(e,t){var a=Math.max.apply(Math,e.values);a>l&&(l=a)}),l=d(l);E.appendChild(r(l,e.labels)),e.columns.forEach(function(a,n){var i="0",s=L,r="",c="",d=(e.areafill?a.color:"none",[]);if(a.values.forEach(function(n,c){if(i=M/t*c,s=L-L/l*n,e.vline&&0!=c){var h=o(B.l,{x1:i,x2:i,y1:0,y2:"100%",stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"});E.appendChild(h)}if(e.points){var u=o(B.c,{cx:i,cy:s,stroke:"white","stroke-width":1,fill:a.color,r:"5",label:e.labels[c],value:n,class:"yac-tt "+a.class});d.push(u)}if(e.numbers){var p=o(B.t,{x:i,y:98*L/100-L/l*n,width:M/t,"text-anchor":"middle","alignment-baseline":"baseline"},n);E.appendChild(p)}r+=i+","+s+" "}),e.areafill){c="0,"+L+" "+r+" "+i+","+L;var h=o(B.p,{"stroke-width":0,fill:a.fill,points:c,class:a.class});E.appendChild(h)}var u=o(B.p,{stroke:a.color,"stroke-width":3,fill:"none",points:r,class:a.class});E.appendChild(u),d.forEach(function(t,l){E.appendChild(t),t.addEventListener("click",e.click),v(t)}),e.vline=!1})}function n(e){var t=L/2*.9,l=Math.PI*t,a=o(B.t,{x:"50%",y:"50%","text-anchor":"middle","alignment-baseline":"middle",fill:"black",style:"font-size:50px;"},e.value),n=o(B.t,{x:"50%",y:"100%","text-anchor":"middle","alignment-baseline":"text-before-edge","dominant-baseline":"hanging",fill:"black",style:"font-size:40px;"},e.label),i=o(B.c,{r:t,cx:"50%",cy:"50%","stroke-width":"5%",stroke:"#eeeeee",fill:"none"}),s=o(B.c,{r:t,cx:"50%",cy:"50%","stroke-width":"5%","stroke-dasharray":e.animate?"0 "+2*l:l*e.pct*2/100+" "+2*l,stroke:e.fill,style:"transition: stroke-dasharray 1.0s ease;",fill:"none",dasharrayto:l*e.pct*2/100+" "+2*l});E.appendChild(i),E.appendChild(s),E.appendChild(a),E.appendChild(n)}function i(){return o("svg",{x:0,y:0,width:"100%",height:"100%"})}function s(e){return o("svg",{x:e?"0":"10%",y:e?"0":"5%",width:e?"100%":"80%",height:e?"100%":"80%",style:"overflow:visible;",viewBox:"0 0 "+M+" "+L})}function o(e,t,l,a){var n;n=a?document.createElement(e):document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)n.setAttribute(i,t[i]);return null!=l&&(n.innerHTML=l),n}function r(e,t,l){var a=4,n=o("g"),i=o(B.l,{x1:"0%",x2:"0%",y1:"0%",y2:"100%",stroke:"#888888","stroke-width":1}),s=o(B.l,{x1:"0%",x2:"105%",y1:"100%",y2:"100%",stroke:"#888888","stroke-width":1});n.appendChild(i),n.appendChild(s);for(var r=0;r<a;r++){var c=100*r/a+"%",d=o(B.l,{x1:"0%",x2:"105%",y1:c,y2:c,stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"}),h=o(B.t,{x:"0%",y:c,"alignment-baseline":"middle","text-anchor":"end"},parseInt((a-r)*(e/100)*(100/a))+"&nbsp;");n.appendChild(d),n.appendChild(h)}if(t.length>0){var u=l?t.length:t.length-1,p=100/u;t.forEach(function(e,a){var i=o(B.t,{x:l?p*a+p/2+"%":p*a+"%",y:"100%",width:p+"%","text-anchor":"middle","alignment-baseline":"text-before-edge","dominant-baseline":"hanging",class:"baselabel",label:t[a],value:""},t[a].length>8?t[a].substr(0,10)+"...":t[a]);n.appendChild(i),v(i)})}return n}function c(e){var t=0;return e.forEach(function(e,l){e.value>t&&(t=e.value)}),t}function d(e){return e=e<10?e.ceilTo(1):e<100?e.ceilTo(10):e<1e3?e.ceilTo(100):e.ceilTo(100)}function h(e){var t=0;return e.forEach(function(e,l){t+=e.value}),t}function u(e,t,l,a,n){if(a>n){var i=a;a=n,n=i}n-a>2*Math.PI&&(n=1.99999*Math.PI);var s=n-a<=Math.PI?0:1,o=a+(n-a)/2;e+10+Math.cos(o)*l,t+10-Math.sin(o)*l;return["M",e,t,"L",e+Math.cos(a)*l,t-Math.sin(a)*l,"A",l,l,0,s,0,e+Math.cos(n)*l,t-Math.sin(n)*l,"L",e,t].join(" ")}function p(e,t,l,a,n){var i=a+(n-a)/2,s=e+Math.cos(i)*l,o=t-Math.sin(i)*l;return{x:s,y:o}}function f(){if(0==document.getElementsByClassName("yac-tooltip").length){var e=o("div",{style:'display:none;opacity:0.8;position:absolute;min-width:50px;padding:5px;border-radius:2px;background-color:black;min-height:30px;top:0;left:0;color:white;text-align:center;z-index:999;},null,true);tt.classList.add("yac-tooltip");document.body.appendChild(tt);'},null,!0);e.classList.add("yac-tooltip"),document.body.appendChild(e)}}function v(e){e.addEventListener("mouseover",function(e){y(e,this)}),e.addEventListener("mouseout",function(e){m(e,this)}),e.addEventListener("touchstart",function(e){b(e,this)}),e.addEventListener("touchend",function(e){m(e,this)})}function b(e,t){var l=e.touches[0].pageX,a=e.touches[0].pageY,n=document.getElementsByClassName("yac-tooltip");n[0].style.display="block",n[0].style.left=l+"px",n[0].style.top=a-50+"px",n[0].innerHTML=t.getAttribute("label")+"<br>"+t.getAttribute("value")}function y(e,t){var l=e.pageX,a=e.pageY,n=document.getElementsByClassName("yac-tooltip");n[0].style.display="block",n[0].style.left=l+"px",n[0].style.top=a+"px",n[0].innerHTML=t.getAttribute("label")+"<br>"+t.getAttribute("value")}function m(e,t){var l=document.getElementsByClassName("yac-tooltip");l[0].style.display="none"}function g(e){for(var t=!1,l=0;l<e.length;l++)e[l].getBBox().width>e[l].attributes.width.value&&(t=!0);if(e.length>6&&(t=!0),t)for(var l=0;l<e.length;l++)e[l].setAttribute("transform","rotate(25 "+e[l].getBBox().x+" "+e[l].getBBox().y+")"),e[l].setAttribute("text-anchor","right")}var x,k,w,C,E,M=600,L=400,B={r:"rect",c:"circle",l:"line",t:"text",p:"polyline"};Number.prototype.ceilTo=function(e){return e=e||10,Math.ceil(this*(1/e))*e},window.yac=function(o,r,c){switch(f(),k=document.getElementById(r),M=k.offsetWidth>0?k.offsetWidth:M,L=k.offsetHeight>0?k.offsetHeight:L,c.viewportx&&(M=c.viewportx),c.viewporty&&(L=c.viewporty),x=o,w=c,E=s(c.fullsize),C=i(),x){case"bar":e(w);break;case B.l:a(w);break;case"pie":t(w);break;case"doughnut":l(w);break;case"singlevalue":n(w)}C.appendChild(E),k.appendChild(C);var d=k.getElementsByClassName("baselabel");d.length>0&&g(d)}}();
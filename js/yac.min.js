!function(e){"use strict";function t(t,a){var l=i("svg",{x:0,y:0,width:"100%",height:"100%",viewBox:"0 0 800 600"}),n=i("svg",{x:"5%",y:"5%",width:"90%",height:"90%",fill:"#22222",style:"overflow:visible;"});l=e(l),n=e(n);var s=a.columns.length,h=(parseInt(Math.floor(100/s)),r(a.columns));h=o(h);var c=100/h,u=i("line",{x1:"0%",x2:"0%",y1:"0%",y2:"100%",stroke:"#888888","stroke-width":1}),d=i("line",{x1:"0%",x2:"105%",y1:"100%",y2:"100%",stroke:"#888888","stroke-width":1});n.append(u),n.append(d);for(var v=0;v<11;v++){var p=10*v+"%",x=i("line",{x1:"0%",x2:"105%",y1:p,y2:p,stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"}),y=i("text",{x:"0%",y:p,"alignment-baseline":"middle","text-anchor":"end"},((10-v)*(h/100)*10).toFixed(1)+"&nbsp;");n.append(x),n.append(y)}return e(a.columns).each(function(t,l){var r=100/s*t+5,o=i("rect",{x:r+2+"%",y:100-c*l.value+"%",stroke:l.stroke,"stroke-width":"2",fill:l.fill,width:100/s-4+"%",height:c*l.value+"%",label:l.label,value:l.value,class:"yac-slice "+l.class}),h=i("text",{x:r+50/s+"%",y:"100%",width:100/s-1+"%",height:"auto","text-anchor":"middle","alignment-baseline":"text-before-edge"},l.label),u=i("text",{x:r+50/s+"%",y:99-c*l.value+"%",width:100/s-1+"%","text-anchor":"middle","alignment-baseline":"baseline"},l.value);e(o).on("click",a.click),e(o).on("mouseover",a.mouseover),n.append(o),n.append(h),n.append(u)}),l.append(n),t.append(l),t}function a(t,a){var l=i("svg",{x:"5%",y:"5%",width:"90%",height:"90%",fill:"#22222",style:"overflow:visible;"}),n=i("svg",{x:0,y:0,width:"100%",height:"100%",viewBox:"0 0 800 600"});n=e(n),l=e(l);var s=a.columns.length,h=(parseInt(100/(s-1)),r(a.columns));h=o(h);var c=100/h,u=i("line",{x1:"0%",x2:"0%",y1:"0%",y2:"100%",stroke:"#888888","stroke-width":1}),d=i("line",{x1:"0%",x2:"105%",y1:"100%",y2:"100%",stroke:"#888888","stroke-width":1});l.append(u),l.append(d);for(var v=0;v<11;v++){var p=10*v+"%",x=i("line",{x1:"0%",x2:"105%",y1:p,y2:p,stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"}),y=i("text",{x:"0%",y:p,"alignment-baseline":"middle","text-anchor":"end"},parseInt((10-v)*(h/100)*10)+"&nbsp;");l.append(x),l.append(y)}var k="0%",f="100%";return e(a.columns).each(function(t,n){var r=100/s*(t+1),o=i("circle",{cx:r+"%",cy:100-c*n.value+"%",stroke:n.stroke,"stroke-width":1,fill:n.fill,r:"1%",label:n.label,value:n.value,class:n.class}),h=i("line",{x1:r+"%",x2:k,y1:100-c*n.value+"%",y2:f,stroke:"grey","stroke-width":2}),u=i("text",{x:r+"%",y:"100%","text-anchor":"middle","alignment-baseline":"text-before-edge"},n.label),d=i("text",{x:r+"%",y:98-c*n.value+"%",width:100/s+"%","text-anchor":"middle","alignment-baseline":"baseline"},n.value);e(o).on("click",a.click),e(o).on("mouseover",a.mouseover),l.append(u),l.append(d),l.append(h),l.append(o),k=r+"%",f=100-c*n.value+"%"}),n.append(l),t.append(n),t}function l(t,a){var l=i("svg",{x:0,y:0,width:"100%",height:"100%",fill:"yellow",viewBox:"0 0 600 600"});l=e(l),t.append(l);var n=(a.columns.length+2,300*Math.PI,s(a.columns)),r=0;return e(a.columns).each(function(t,o){var s=2*Math.PI/n*this.value,u=h(300,300,150,r,r+s),d=i("path",{d:u,fill:this.fill,stroke:this.stroke,"stroke-width":2,label:o.label,value:o.value,class:o.class});e(d).on("click",a.click),e(d).on("mouseover",a.mouseover);var v=c(300,300,150,r,r+s),p=c(300,300,200,r,r+s),x=i("line",{x1:v.x,y1:v.y,x2:p.x,y2:p.y,stroke:"black"}),y=i("text",{x:p.x,y:p.y,fill:"black"},this.value);l.append(x),l.append(d),l.append(y);var k=y.getBBox(),f=i("rect",{x:k.x-5,y:k.y-3,width:k.width+10,height:k.height+6,fill:"#eeeeee",stroke:"black"});l.append(f),l.append(y),r+=s}),t}function n(t,a){var l=i("svg",{x:0,y:0,width:"100%",height:"100%",fill:"none",viewBox:"0 0 300 300"});l=e(l);var n=(a.columns.length+2,200*Math.PI),r=s(a.columns),o=0,h=i("text",{x:"150",y:"150","text-anchor":"middle","alignment-baseline":"middle",fill:"black"},"");return e(a.columns).each(function(t,s){var c=this.value*n/r,u=i("circle",{r:"100",cx:"50%",cy:"50%","stroke-width":"35","stroke-dasharray":c+"  "+n,"stroke-dashoffset":-o,stroke:this.fill,label:this.label,value:this.value,class:this.class});e(u).on("click",a.click),e(u).on("mouseover",function(){e(this).attr("stroke-width","50"),e(h).html(e(this).attr("label")+": "+e(this).attr("value"))}),e(u).on("mouseout",function(){e(u).attr("stroke-width","35"),e(h).html("")}),l.append(u),o+=c}),l.append(h),t.append(l),t}function i(t,a,l){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in a)n.setAttribute(i,a[i]);return null!=l&&e(n).html(l),n}function r(t){var a=0;return e(t).each(function(){this.value>a&&(a=this.value)}),a}function o(e){return e=e<10?e.ceilTo(1):e<100?e.ceilTo(10):e<1e3?e.ceilTo(100):e.ceilTo(100)}function s(t){var a=0;return e(t).each(function(){a+=this.value}),a}function h(e,t,a,l,n){if(l>n){var i=l;l=n,n=i}n-l>2*Math.PI&&(n=1.99999*Math.PI);var r=n-l<=Math.PI?0:1,o=l+(n-l)/2;e+10+Math.cos(o)*a,t+10-Math.sin(o)*a;return["M",e,t,"L",e+Math.cos(l)*a,t-Math.sin(l)*a,"A",a,a,0,r,0,e+Math.cos(n)*a,t-Math.sin(n)*a,"L",e,t].join(" ")}function c(e,t,a,l,n){var i=l+(n-l)/2,r=e+Math.cos(i)*a,o=t-Math.sin(i)*a;return{x:r,y:o}}e.fn.yac=function(e,i){var r=this;switch(e){case"bar":r=t(r,i);break;case"line":r=a(r,i);break;case"pie":r=l(r,i);break;case"doughnut":r=n(r,i)}return r},Number.prototype.ceilTo=function(e){return e=e||10,Math.ceil(this*(1/e))*e}}(jQuery);
!function(e){"use strict";function t(t,a){var n=i("svg",{x:0,y:0,width:"100%",height:"100%",viewBox:"0 0 800 600"}),l=i("svg",{x:"5%",y:"5%",width:"90%",height:"90%",fill:"#22222",style:"overflow:visible;"});n=e(n),l=e(l);var o=a.columns.length,c=(parseInt(Math.floor(100/o)),r(a.columns));c=s(c);var h=100/c,u=i("line",{x1:"0%",x2:"0%",y1:"0%",y2:"100%",stroke:"#888888","stroke-width":1}),d=i("line",{x1:"0%",x2:"105%",y1:"100%",y2:"100%",stroke:"#888888","stroke-width":1});l.append(u),l.append(d);for(var v=0;v<11;v++){var p=10*v+"%",x=i("line",{x1:"0%",x2:"105%",y1:p,y2:p,stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"}),y=i("text",{x:"0%",y:p,"alignment-baseline":"baseline","text-anchor":"end"},((10-v)*(c/100)*10).toFixed(2)+"&nbsp;");l.append(x),l.append(y)}return e(a.columns).each(function(t,n){var r=100/o*t+5,s=i("rect",{x:r+2+"%",y:100-h*n.value+"%",stroke:n.stroke,"stroke-width":"2",fill:n.fill,width:100/o-4+"%",height:h*n.value+"%",label:n.label,value:n.value,class:"yac-slice "+n.class}),c=i("text",{x:r+50/o+"%",y:"100%",width:100/o-1+"%","text-anchor":"middle","alignment-baseline":"text-before-edge"},n.label),u=i("text",{x:r+50/o+"%",y:99-h*n.value+"%",width:100/o-1+"%","text-anchor":"middle","alignment-baseline":"baseline"},n.value);e(s).on("click",a.click),e(s).on("mouseover",a.mouseover),l.append(s),l.append(c),l.append(u)}),n.append(l),t.append(n),t}function a(t,a){var n=i("svg",{x:"5%",y:"5%",width:"90%",height:"90%",fill:"#22222",style:"overflow:visible;"}),l=i("svg",{x:0,y:0,width:"100%",height:"100%",viewBox:"0 0 800 600"});l=e(l),n=e(n);var o=a.columns.length,c=(parseInt(100/(o-1)),r(a.columns));c=s(c);var h=100/c,u=i("line",{x1:"0%",x2:"0%",y1:"0%",y2:"100%",stroke:"#888888","stroke-width":1}),d=i("line",{x1:"0%",x2:"105%",y1:"100%",y2:"100%",stroke:"#888888","stroke-width":1});n.append(u),n.append(d);for(var v=0;v<11;v++){var p=10*v+"%",x=i("line",{x1:"0%",x2:"105%",y1:p,y2:p,stroke:"#888888","stroke-width":.5,"stroke-dasharray":"5, 5"}),y=i("text",{x:"0%",y:p,"alignment-baseline":"baseline","text-anchor":"end"},parseInt((10-v)*(c/100)*10)+"&nbsp;");n.append(x),n.append(y)}var k="0%",f="100%";return e(a.columns).each(function(t,l){var r=100/o*t,s=i("circle",{cx:r+"%",cy:100-h*l.value+"%",stroke:l.stroke,"stroke-width":1,fill:l.fill,r:"1%",label:l.label,value:l.value,class:l.class}),c=i("line",{x1:r+"%",x2:k,y1:100-h*l.value+"%",y2:f,stroke:"grey","stroke-width":2}),u=i("text",{x:r+50/o+"%",y:"100%",width:100/o+"%","text-anchor":"middle","alignment-baseline":"text-before-edge"},l.label),d=i("text",{x:r+50/o+"%",y:100-h*l.value+"%",width:100/o+"%","text-anchor":"middle","alignment-baseline":"baseline"},l.value);e(s).on("click",a.click),e(s).on("mouseover",a.mouseover),n.append(u),n.append(d),n.append(c),n.append(s),k=r+"%",f=100-h*l.value+"%"}),l.append(n),t.append(l),t}function n(t,a){var n=i("svg",{x:0,y:0,width:"100%",height:"100%",fill:"yellow",viewBox:"0 0 600 600"});n=e(n),t.append(n);var l=(a.columns.length+2,300*Math.PI,o(a.columns)),r=0;return e(a.columns).each(function(t,s){var o=2*Math.PI/l*this.value,u=c(300,300,150,r,r+o),d=i("path",{d:u,fill:this.fill,stroke:this.stroke,"stroke-width":2,label:s.label,value:s.value,class:s.class});e(d).on("click",a.click),e(d).on("mouseover",a.mouseover);var v=h(300,300,150,r,r+o),p=h(300,300,200,r,r+o),x=i("line",{x1:v.x,y1:v.y,x2:p.x,y2:p.y,stroke:"black"}),y=i("text",{x:p.x,y:p.y,fill:"black"},this.value);n.append(x),n.append(d),n.append(y);var k=y.getBBox(),f=i("rect",{x:k.x-5,y:k.y-3,width:k.width+10,height:k.height+6,fill:"#eeeeee",stroke:"black"});n.append(f),n.append(y),r+=o}),t}function l(t,a){var n=i("svg",{x:0,y:0,width:"100%",height:"100%",fill:"none",viewBox:"0 0 300 300"});n=e(n);var l=(a.columns.length+2,200*Math.PI),r=o(a.columns),s=0,c=i("text",{x:"150",y:"150","text-anchor":"middle","alignment-baseline":"middle",fill:"black"},"");return e(a.columns).each(function(t,o){var h=this.value*l/r,u=i("circle",{r:"100",cx:"50%",cy:"50%","stroke-width":"35","stroke-dasharray":h+"  "+l,"stroke-dashoffset":-s,stroke:this.fill,label:this.label,value:this.value,class:this.class});e(u).on("click",a.click),e(u).on("mouseover",function(){e(this).attr("stroke-width","50"),e(c).html(e(this).attr("label")+": "+e(this).attr("value"))}),e(u).on("mouseout",function(){e(u).attr("stroke-width","35"),e(c).html("")}),n.append(u),s+=h}),n.append(c),t.append(n),t}function i(t,a,n){var l=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in a)l.setAttribute(i,a[i]);return null!=n&&e(l).html(n),l}function r(t){var a=0;return e(t).each(function(){this.value>a&&(a=this.value)}),a}function s(e){return e=e<10?e.ceilTo(1):e<100?e.ceilTo(10):e<1e3?e.ceilTo(100):e.ceilTo(100)}function o(t){var a=0;return e(t).each(function(){a+=this.value}),a}function c(e,t,a,n,l){if(n>l){var i=n;n=l,l=i}l-n>2*Math.PI&&(l=1.99999*Math.PI);var r=l-n<=Math.PI?0:1,s=n+(l-n)/2;e+10+Math.cos(s)*a,t+10-Math.sin(s)*a;return["M",e,t,"L",e+Math.cos(n)*a,t-Math.sin(n)*a,"A",a,a,0,r,0,e+Math.cos(l)*a,t-Math.sin(l)*a,"L",e,t].join(" ")}function h(e,t,a,n,l){var i=n+(l-n)/2,r=e+Math.cos(i)*a,s=t-Math.sin(i)*a;return{x:r,y:s}}e.fn.yac=function(e,i){var r=this;switch(e){case"bar":r=t(r,i);break;case"line":r=a(r,i);break;case"pie":r=n(r,i);break;case"doughnut":r=l(r,i)}return r},Number.prototype.ceilTo=function(e){return e=e||10,Math.ceil(this*(1/e))*e}}(jQuery);